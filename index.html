<!doctype html>
<html lang="en" class="no-js">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<link href='https://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700' rel='stylesheet' type='text/css'>

	<link rel="stylesheet" href="css/reset.css"> <!-- CSS reset -->
	<link rel="stylesheet" href="css/style.css"> <!-- Resource style -->
	<script src="js/modernizr.js"></script> <!-- Modernizr -->
	<title>Kitsunebi 使用常见问题</title>
</head>
<body>
<header>
	<h1>Kitsunebi 使用常见问题</h1>
</header>
<section class="cd-faq">
  <ul class="cd-faq-categories">
    <li><a class="selected" href="#basics">常见问题</a></li>
  </ul> <!-- cd-faq-categories -->

	<div class="cd-faq-items">
		<ul id="basics" class="cd-faq-group">
			<li>
				<a class="cd-faq-trigger" href="#0">Full Tunnel? Tunnel HTTP Proxy? 开启哪个？</a>
				<div class="cd-faq-content">
					<p>默认两个都开启。建议必开 Tunnel HTTP Proxy，选择性开 Full Tunnel。</p>
				</div> <!-- cd-faq-content -->
			</li>

			<li>
				<a class="cd-faq-trigger" href="#0">软件自带的 Test Server 可以无限使用吗？</a>
				<div class="cd-faq-content">
					<p>很明显是不可能的，在 App Store 上的简介中也说了只供参考与测试用，不会有任何稳定性与可用性的保证，这是正式的说法。</p>
          <br/>
					<p>只不过现时测试服务器的维护成本并不高，所以随便你用（小声说</p>
				</div> <!-- cd-faq-content -->
			</li>

			<li>
				<a class="cd-faq-trigger" href="#0">为什么耗电百分比显示如此高？</a>
				<div class="cd-faq-content">
					<p>显示耗电如此之多，一方面是因为其它 App 的网络耗电都算到 Kitsunebi 上了；另一方面是因为 v2ray-core 有一个叫 IPIfNonMatch 的功能，在默认配置的情况下，所有国外流量都会经过代理加密（这里的言外之意是，那些本来可以正常访问的国外网络流量也会经过代理加密），所以比起其它同类的主要使用域名规则的软件来说，需要加密更多的流量，就会多耗电了。</p>
          <br/>
					<p>这里需要提点的是，你可以选择不开启 IPIfNonMatch，像其它同类软件一样主要用域名规则，这样应该能得到比较相近的耗电量比；但是，大部分国外的网站就算可以直接访问，速度也并不会很快，所以把所有国外流量代理后很多时候可以起到加速作用；怎么取舍取决于你，默认配置只是作者觉得比较合适大部分人使用的配置。</p>
				</div> <!-- cd-faq-content -->
			</li>

			<li>
				<a class="cd-faq-trigger" href="#0">Full Tunnel 实际上是个什么样的功能？</a>
				<div class="cd-faq-content">
					<p>简单点说，开启后可以代理 TCP/UDP 流量。不开启的话，就只代理 HTTP/HTTPS 流量。</p>
					<p>有小部分 App 会用到非 HTTP/HTTPS 协议来传数据，这时候就可能需要开 Full Tunnel 来代理这些流量，App 才能正常使用。</p>
				</div> <!-- cd-faq-content -->
			</li>

			<li>
				<a class="cd-faq-trigger" href="#0">软件功能看起来很丰富，但具体怎么用？</a>
				<div class="cd-faq-content">
					<p>一些基础用法在 App 的脚注中作了简要说明，如果想了解更仔细的用法，可以仔细阅读 <a href="https://www.v2ray.com/" target="_blank">Project V 的文档</a>。</p>
				</div> <!-- cd-faq-content -->
			</li>

			<li>
				<a class="cd-faq-trigger" href="#0">为什么其它 App 可以正常使用，但 XXX （比如 LINE）却上不了？</a>
				<div class="cd-faq-content">
					<p>因为这些 App 不使用 HTTP/HTTPS。</p>
					<p>解决方法：</p>
          <p>1. 开启 Full Tunnel：高级特性 -&gt; Full Tunnel。</p>
				</div> <!-- cd-faq-content -->
			</li>

			<li>
				<a class="cd-faq-trigger" href="#0">为什么连接会自动断开？</a>
				<div class="cd-faq-content">
          <p>检查是否开启了“睡眠时断开连接”功能。</p>
					<p>解决方法：</p>
					<p>1. 关闭该功能：通常设置 -&gt; 睡眠时断开连接</p>
          <br/>
					<p>可能是因为使用内存过多， 导致应用进程被 iOS 系统干掉了，因为 iOS 对这类 VPN 进程的内存限制是 15M（官方说明：https://forums.developer.apple.com/thread/73148），这对使用 Golang 的程序来说不太友善。</p>
					<p>解决方法：</p>
					<p>1. 设置一个合理的最大连接数，连接数越大并不代表速度越快，现时推荐设置为 16 或 24。</p>
          <p>2. 规则数量不要太多，过多会影响内存使用量，请保持一个合理的数目，一般不需要超过 3000 条，如果超过这个数目，很明显你的规则需要优化了。</p>
          <p>3. 开启“自动重连”功能：高级特性 -&gt; 自动重连。</p>
          <br/>
					<p>如果遵从上面提到的注意点，但仍然经常会断开，那就可能不是内存的问题，是运行时出错了，就是有 bug 了，如果碰到这种情况，请把你的配置文件以及其它设置信息发给作者反馈问题。</p>
				</div> <!-- cd-faq-content -->
			</li>

			<li>
				<a class="cd-faq-trigger" href="#0">为什么点击 Widget 的开关时总会跳到 App 里面？</a>
				<div class="cd-faq-content">
					<p>因为你开启“自动重连”了。</p>
					<p>解决方法：</p>
          <p>1. 关闭“自动重连”功能：高级特性 -&gt; 自动重连。</p>
				  <br/>
          <p>注：暂时没有两全其美的方法，这个是 iOS 系统的 bug，已经汇报给苹果就看什么时候会修复了。</p>
				</div> <!-- cd-faq-content -->
			</li>

			<li>
				<a class="cd-faq-trigger" href="#0">我需要从其它地方导入规则来使用吗？</a>
				<div class="cd-faq-content">
					<p>1. 这点要看个人需求，我觉得安装 App 后默认的规则已经可以满足一般人的需求了，在使用过程中自己根据实际需要往上加就可以。</p>
					<p>2. v2ray-core 一个强大之处是在路由请求时可以把域名解析成 IP，然后用 IP 来来进行 GEOIP 规则匹配，所在如果你选了 IPIfNonMatch（默认) 或 IPOnDemand，你在 Kitsunebi 中使用的 GEOIP 规则跟你在其它软件中使用的 GEOIP 规则是不太一样的，因此可能一条 GEOIP 规则就可以顶上几千条域名规则了，功能上要强大很多。有人或许会担心 DNS 解析的延时，这个其实不必要太在意，有缓存的。当然这种做法也会存在着一些问题，但目前来看影响不大。</p>
				</div> <!-- cd-faq-content -->
			</li>

			<li>
				<a class="cd-faq-trigger" href="#0">想用 v2ray-core 某项功能，但没找到哪里可以设置，怎么办？</a>
				<div class="cd-faq-content">
					<p>使用自定义配置：高级特性 -&gt; 自定义配置。</p>
				</div> <!-- cd-faq-content -->
			</li>

			<li>
				<a class="cd-faq-trigger" href="#0">为什么频繁断流？</a>
				<div class="cd-faq-content">
					<p>请详细描述你的问题，“断流”这个词包括的范围太大，任何开发者都不太可能正确理解你所指的是什么，反正你不描述详细，不给任何上下文的话，我是理解不了。</p>
				</div> <!-- cd-faq-content -->
			</li>

			<li>
				<a class="cd-faq-trigger" href="#0">为什么在同样配置下总是比 XXX 软件慢很多？</a>
				<div class="cd-faq-content">
					<p>首先这个“同样配置”有点暧昧了，App 提供了非常多的配置项，除非你全部熟悉了，不然你不能说是“同样配置”。</p>
          <br/>
					<p>好吧，我其实大概能理解你的意思，下面有几个步骤你可以尝试下（不是按顺序的，每做完一个设置你都可以试试效果）：</p>
					<p>1. 把 App 还原到默认设置：通常设定 -&gt; 重置所有设定。</p>
          <p>2. 开启 Full Tunnel：高级特性 -&gt; Full Tunnel。</p>
          <p>3. 关闭 mux：这个在你的服务器设置里面可以找到。</p>
          <p>4. 删除所有规则：代理规则 -&gt; 删除所有规则。</p>
          <p>5. 更改 DNS。App 里有两个 DNS 设置项，如果你不知道哪个是干什么的，最好就不要改了。</p>
          <p>6. 转换到全局模式：代理模式 -&gt; 全局。</p>
				</div> <!-- cd-faq-content -->
			</li>

			<li>
				<a class="cd-faq-trigger" href="#0">如何申请 TestFlight 测试？</a>
				<div class="cd-faq-content">
					<p>到这里填表申请：<a href="https://docs.google.com/forms/d/e/1FAIpQLScqdQHq_zjbHOMPKZBzmLnc91HCSROzACd-vO5SqBgmTanuJQ/viewform">点我申请</a></p>
          <br/>
					<p>为什么申请了没通过？一般不会立刻处理，所以需要等几天，处理了的话一般都会通过的，请仔细检查你的邮箱。你不确定的话可以发个简短的邮件询问下，我会简单回复下你是否已处理。</p>
          <br/>
					<p>注：不要发邮件或者在推特上申请，那样不受理。（因为我懒，你到上面填表申请我可以批量处理）</p>
				</div> <!-- cd-faq-content -->
			</li>

			<li>
				<a class="cd-faq-trigger" href="#0">为什么上 Telegram 时速度非常慢？</a>
				<div class="cd-faq-content">
					<p>因为 Telegram 使用 TCP 来传输数据，但现时 App 在默认设置下只代理 HTTP 流量，而 Telegram 会优先使用 TCP 来做网络请求，等 TCP 失败后转用 HTTP，你感觉慢就是因为需要等待 TCP 请求失败。</p>
					<p>解决方法：</p>
          <p>1. 开启 Full Tunnel：高级特性 -&gt; Full Tunnel。</p>
				</div> <!-- cd-faq-content -->
			</li>

			<li>
				<a class="cd-faq-trigger" href="#0">FAQ 里没有想找的答案怎么办？</a>
				<div class="cd-faq-content">
					<p>可以发个信息给作者反馈下，邮件或者推特都可以。</p>
				</div> <!-- cd-faq-content -->
			</li>

			<li>
				<a class="cd-faq-trigger" href="#0">我可以帮忙完善这个 FAQ 吗？</a>
				<div class="cd-faq-content">
					<p>可以的，FAQ 放在 Github Pages 上，你可以来提 PR：https://github.com/eycorsican/kits-faq</p>
				</div> <!-- cd-faq-content -->
			</li>
		</ul> <!-- cd-faq-group -->

	</div> <!-- cd-faq-items -->
	<a href="#0" class="cd-close-panel">Close</a>
</section> <!-- cd-faq -->
<script src="js/jquery-2.1.1.js"></script>
<script src="js/jquery.mobile.custom.min.js"></script>
<script src="js/main.js"></script> <!-- Resource jQuery -->
</body>
</html>
